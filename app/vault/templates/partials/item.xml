$def with (env=None)
<item>
  $if env != None:
    $if 'widget' == env['type']: <widget class="$(env['class'])" name="$(env['name'])">
    $elif 'spacer' == env['type']: <spacer name="$(env['name'])">
    $elif 'property' == env['type']: <property name="$(env['name'])">
      $for env1 in env['list']:
        $if 'property'==env1['type'] and 'stdset' in env1: <property name="$(env1['name'])" stdset="$(env1['stdset'])">
        $elif 'property'==env1['type']: <property name="$(env1['name'])">
          $for env2 in env1['list']:
            $if 'string' == env2['type'] and 'value' in env2: <string>$(env2['value'])</string>
            $elif 'string' == env2['type']: <string/>
            $elif 'enum' == env2['type']: <enum>$(env2['value'])</enum>
            $elif 'number' == env2['type']: <number>$(env2['value'])</number>
            $elif 'size' == env2['type']:
              <size>
                <width>$(env2['width'])</width>
                <height>$(env2['height'])</height>
              </size>
        $if 'property' == env1['type']: </property>
    $if 'widget' == env['type']: </widget>
    $elif 'spacer' == env['type']: </spacer>
    $elif 'property' == env['type']: </property>
</item>
