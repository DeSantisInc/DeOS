$def with (data=None)
$if 'xml' == data['type']: <?xml version="$(data['version'])" encoding="$(data['encoding'])"?>
<ui version="$(data['body']['version'])">
  $for item in data['body']['list']:
    $if 'class' == item['type']: <class>$(item['value'])</class>
    $elif 'widget' == item['type']:
      <widget class="$(item['class'])" name="$(item['name'])">
        $for i in item['list']:
          $if 'property' == i['type']:
            <property name="$(i['name'])">
              $for div in i['list']:
                $if 'rect' == div['type']:
                  $:(render('rect',env=div))
                $elif 'string' == div['type']:
                  <string>$(div['value'])</string>
            </property>
          $elif 'layout' == i['type']: <layout class="$(i['class'])" name="$(i['name'])">
          $for div in i['list']:
            $if 'item' == div['type']:
              $for d in div['list']:
                $:(render('item',env=d,factor=12))
          $if 'layout' == i['type']: </layout>
      </widget>
    $elif 'resources' == item['type']:
      $:(render('resources',env=item))
    $elif 'connections' == item['type']:
      <connections>
        $for connection in item['list']:
          <connection>
            <sender>$(connection['sender'])</sender>
            <signal>$(connection['signal'])</signal>
            <receiver>$(connection['receiver'])</receiver>
            <slot>$(connection['slot'])</slot>
            <hints>
              $for hint in connection['hints']:
                <hint type="$(hint['type'])">
                  <x>$(hint['x'])</x>
                  <y>$(hint['y'])</y>
                </hint>
            </hints>
          </connection>
      </connections>
</ui>
